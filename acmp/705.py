n,m = map(int,input().split())
print((pow(2,n,m)*(n*n-4*n+6)-6)%m)

